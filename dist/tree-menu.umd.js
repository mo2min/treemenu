var Ie=Object.defineProperty,Te=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var E=(c,i,p)=>i in c?Ie(c,i,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[i]=p,m=(c,i)=>{for(var p in i||(i={}))Y.call(i,p)&&E(c,p,i[p]);if(A)for(var p of A(i))Z.call(i,p)&&E(c,p,i[p]);return c},O=(c,i)=>Te(c,Pe(i));var K=(c,i)=>{var p={};for(var g in c)Y.call(c,g)&&i.indexOf(g)<0&&(p[g]=c[g]);if(c!=null&&A)for(var g of A(c))i.indexOf(g)<0&&Z.call(c,g)&&(p[g]=c[g]);return p};var N=(c,i,p)=>(E(c,typeof i!="symbol"?i+"":i,p),p);(function(c,i){typeof exports=="object"&&typeof module!="undefined"?i(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],i):(c=typeof globalThis!="undefined"?globalThis:c||self,i(c.TreeMenu={},c.React))})(this,function(c,i){"use strict";function p(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var g=p(i),H=function(s,t){var r=null;return function(){clearTimeout(r);var o=arguments,n=this;r=setTimeout(function(){s.apply(n,o)},t)}},Q=Object.prototype.hasOwnProperty,X=Object.prototype.toString;function ee(e){if(e==null)return!0;if(typeof e=="boolean")return!1;if(typeof e=="number")return e===0;if(typeof e=="string"||typeof e=="function"||Array.isArray(e))return e.length===0;if(e instanceof Error)return e.message==="";if(e.toString==X)switch(e.toString()){case"[object File]":case"[object Map]":case"[object Set]":return e.size===0;case"[object Object]":{for(var s in e)if(Q.call(e,s))return!1;return!0}}return!1}var te=ee,I={exports:{}};function re(e,s){var t=s&&s.cache?s.cache:ie,r=s&&s.serializer?s.serializer:ce,o=s&&s.strategy?s.strategy:ne;return o(e,{cache:t,serializer:r})}function se(e){return e==null||typeof e=="number"||typeof e=="boolean"}function L(e,s,t,r){var o=se(r)?r:t(r),n=s.get(o);return typeof n=="undefined"&&(n=e.call(this,r),s.set(o,n)),n}function z(e,s,t){var r=Array.prototype.slice.call(arguments,3),o=t(r),n=s.get(o);return typeof n=="undefined"&&(n=e.apply(this,r),s.set(o,n)),n}function T(e,s,t,r,o){return t.bind(s,e,r,o)}function ne(e,s){var t=e.length===1?L:z;return T(e,this,t,s.cache.create(),s.serializer)}function oe(e,s){var t=z;return T(e,this,t,s.cache.create(),s.serializer)}function ae(e,s){var t=L;return T(e,this,t,s.cache.create(),s.serializer)}function ce(){return JSON.stringify(arguments)}function j(){this.cache=Object.create(null)}j.prototype.has=function(e){return e in this.cache},j.prototype.get=function(e){return this.cache[e]},j.prototype.set=function(e,s){this.cache[e]=s};var ie={create:function(){return new j}};I.exports=re,I.exports.strategies={variadic:oe,monadic:ae};var ue=I.exports;const R=e=>!!e&&!te(e),F=e=>R(e)?e:[],P=t=>{var r=t,{data:e}=r,s=K(r,["data"]);const o=F(e),n=m({parent:"",level:0},s),l=h=>h.reduce((a,u,d)=>{const y=m({node:u,index:d,nodeName:u.key},n),b=U(y);return[...a,...b]},[]),f=h=>Object.entries(h).sort((a,u)=>a[1].index-u[1].index).reduce((a,[u,d])=>{const y=m({node:d,nodeName:u},n),b=U(y);return[...a,...b]},[]);return Array.isArray(o)?l(o):f(o)},le=({label:e,searchTerm:s})=>{const t=r=>r.trim().toLowerCase();return t(e).includes(t(s))},fe=({label:e})=>e,U=n=>{var l=n,{node:e,nodeName:s,matchSearch:t=le,locale:r=fe}=l,o=K(l,["node","nodeName","matchSearch","locale"]);const{parent:f,level:h,openNodes:a,searchTerm:u}=o,G=e,{nodes:d,label:y="unknown"}=G,b=K(G,["nodes","label"]),S=[f,s].filter(Ae=>Ae).join("/"),k=R(d),D=k&&(a.includes(S)||!!u),w=r(m({label:y},b)),xe=!u||t(m({label:w,searchTerm:u},b)),_e=O(m(m({},o),b),{label:w,hasNodes:k,isOpen:D,key:S}),De=F(d),J=D?P(O(m({data:De,locale:r,matchSearch:t},o),{parent:S,level:h+1})):[];return xe?[_e,...J]:J},pe=ue(P),he=P;var V={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var s={}.hasOwnProperty;function t(){for(var r=[],o=0;o<arguments.length;o++){var n=arguments[o];if(!!n){var l=typeof n;if(l==="string"||l==="number")r.push(n);else if(Array.isArray(n)){if(n.length){var f=t.apply(null,n);f&&r.push(f)}}else if(l==="object")if(n.toString===Object.prototype.toString)for(var h in n)s.call(n,h)&&n[h]&&r.push(h);else r.push(n.toString())}}return r.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(V);var de=V.exports,x={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ye=g.default,me=Symbol.for("react.element"),ge=Symbol.for("react.fragment"),be=Object.prototype.hasOwnProperty,ve=ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ne={key:!0,ref:!0,__self:!0,__source:!0};function $(e,s,t){var r,o={},n=null,l=null;t!==void 0&&(n=""+t),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)be.call(s,r)&&!Ne.hasOwnProperty(r)&&(o[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:me,type:e,key:n,ref:l,props:o,_owner:ve.current}}_.Fragment=ge,_.jsx=$,_.jsxs=$,x.exports=_;const v=x.exports.jsx,M=x.exports.jsxs,Se=x.exports.Fragment,Oe=.75,ke=2,Ke=1.75,we=({on:e,openedIcon:s,closedIcon:t})=>v("div",{role:"img","aria-label":"Toggle",className:"rstm-toggle-icon-symbol",children:e?s:t}),W=({hasNodes:e=!1,isOpen:s=!1,level:t=0,onClick:r,toggleNode:o,active:n,focused:l,openedIcon:f="-",closedIcon:h="+",label:a="unknown",style:u={},isRtl:d=!1})=>M("li",{className:de("rstm-tree-item",`rstm-tree-item-level${t}`,{"rstm-tree-item--active":n},{"rstm-tree-item--focused":l},{"rstm-tree-item-rtl":d}),style:m({paddingLeft:`${Oe+ke*(e?0:1)+t*Ke}rem`},u),role:"button","aria-pressed":n,onClick:r,children:[e&&v("div",{className:"rstm-toggle-icon",onClick:y=>{e&&o&&o(),y.stopPropagation()},children:v(we,{on:s,openedIcon:f,closedIcon:h})}),a]}),C=({search:e,items:s,isRtl:t})=>M(Se,{children:[e&&v("input",{className:"rstm-search","aria-label":"Type and search",type:"search",placeholder:"Type and search",onChange:o=>{const{value:n}=o.target;e&&e(n)}}),v("ul",{className:"rstm-tree-item-group",children:s.map(l=>{var f=l,{key:o}=f,n=K(f,["key"]);return v(W,m({isRtl:t},n),o)})})]}),q=({children:e,up:s,down:t,left:r,right:o,enter:n})=>v("div",{tabIndex:0,onKeyDown:l=>{switch(l.key){case"ArrowUp":{s();break}case"ArrowDown":{t();break}case"ArrowLeft":{r();break}case"ArrowRight":{o();break}case"Enter":{n();break}}},children:e}),je=e=>console.log(e);class B extends g.default.Component{constructor(){super(...arguments);N(this,"state",{openNodes:this.props.initialOpenNodes||[],searchTerm:"",activeKey:this.props.initialActiveKey||"",focusKey:this.props.initialFocusKey||""});N(this,"resetOpenNodes",(t,r,o)=>{const{initialOpenNodes:n}=this.props,l=Array.isArray(t)&&t||n||[];this.setState({openNodes:l,searchTerm:"",activeKey:r||"",focusKey:o||r||""})});N(this,"search",t=>{const{debounceTime:r}=this.props;H(n=>this.setState({searchTerm:n}),r)(t)});N(this,"toggleNode",t=>{if(!this.props.openNodes){const{openNodes:r}=this.state,o=r.includes(t)?r.filter(n=>n!==t):[...r,t];this.setState({openNodes:o})}});N(this,"generateItems",()=>{const{data:t,onClickItem:r,locale:o,matchSearch:n}=this.props,{searchTerm:l}=this.state,f=this.props.openNodes||this.state.openNodes,h=this.props.activeKey||this.state.activeKey,a=this.props.focusKey||this.state.focusKey,u=this.props.cacheSearch?pe:he;return(t?u({data:t,openNodes:f,searchTerm:l,locale:o,matchSearch:n}):[]).map(y=>{const b=y.key===a,S=y.key===h,k=()=>{const w=this.props.activeKey||y.key;this.setState({activeKey:w,focusKey:w}),r&&r(y)},D=y.hasNodes?()=>this.toggleNode(y.key):void 0;return O(m({},y),{focused:b,active:S,onClick:k,toggleNode:D})})});N(this,"getKeyDownProps",t=>{const{onClickItem:r}=this.props,{focusKey:o,activeKey:n,searchTerm:l}=this.state,f=t.findIndex(a=>a.key===(o||n)),h=a=>{const u=a.key.split("/");return u.length>1?u.slice(0,u.length-1).join("/"):a.key};return{up:()=>{this.setState(({focusKey:a})=>({focusKey:f>0?t[f-1].key:a}))},down:()=>{this.setState(({focusKey:a})=>({focusKey:f<t.length-1?t[f+1].key:a}))},left:()=>{const a=t[f];a&&this.setState(y=>{var b=y,{openNodes:u}=b,d=K(b,["openNodes"]);const S=u.filter(k=>k!==a.key);return a.isOpen?O(m({},d),{openNodes:S,focusKey:a.key}):O(m({},d),{focusKey:h(a)})})},right:()=>{const{hasNodes:a,key:u}=t[f];a&&this.setState(({openNodes:d})=>({openNodes:[...d,u]}))},enter:()=>{this.setState(({focusKey:a})=>({activeKey:a})),r&&r(t[f])}}})}componentDidUpdate(t){const{data:r,initialOpenNodes:o,resetOpenNodesOnDataUpdate:n}=this.props;t.data!==r&&n&&o&&this.setState({openNodes:o})}render(){const{children:t,hasSearch:r,disableKeyboard:o,isRtl:n}=this.props,{searchTerm:l}=this.state,f=this.search,h=this.generateItems(),a=this.resetOpenNodes,u=t||C,d=r?{search:f,resetOpenNodes:a,items:h,searchTerm:l,isRtl:n}:{items:h,resetOpenNodes:a};return o?u(d):v(q,O(m({},this.getKeyDownProps(h)),{children:u(d)}))}}N(B,"defaultProps",{data:{},onClickItem:je,debounceTime:125,children:C,hasSearch:!0,cacheSearch:!0,resetOpenNodesOnDataUpdate:!1,disableKeyboard:!1}),c.ItemComponent=W,c.KeyDown=q,c.default=B,c.defaultChildren=C,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
