var Ie=Object.defineProperty,Te=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var L=(c,l,p)=>l in c?Ie(c,l,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[l]=p,g=(c,l)=>{for(var p in l||(l={}))Y.call(l,p)&&L(c,p,l[p]);if(A)for(var p of A(l))Z.call(l,p)&&L(c,p,l[p]);return c},k=(c,l)=>Te(c,Ce(l));var w=(c,l)=>{var p={};for(var b in c)Y.call(c,b)&&l.indexOf(b)<0&&(p[b]=c[b]);if(c!=null&&A)for(var b of A(c))l.indexOf(b)<0&&Z.call(c,b)&&(p[b]=c[b]);return p};var S=(c,l,p)=>(L(c,typeof l!="symbol"?l+"":l,p),p);(function(c,l){typeof exports=="object"&&typeof module!="undefined"?l(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],l):(c=typeof globalThis!="undefined"?globalThis:c||self,l(c.TreeMenu={},c.React))})(this,function(c,l){"use strict";function p(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var b=p(l),H=function(r,t){var s=null;return function(){clearTimeout(s);var n=arguments,o=this;s=setTimeout(function(){r.apply(o,n)},t)}},Q=Object.prototype.hasOwnProperty,X=Object.prototype.toString;function ee(e){if(e==null)return!0;if(typeof e=="boolean")return!1;if(typeof e=="number")return e===0;if(typeof e=="string"||typeof e=="function"||Array.isArray(e))return e.length===0;if(e instanceof Error)return e.message==="";if(e.toString==X)switch(e.toString()){case"[object File]":case"[object Map]":case"[object Set]":return e.size===0;case"[object Object]":{for(var r in e)if(Q.call(e,r))return!1;return!0}}return!1}var te=ee,I={exports:{}};function se(e,r){var t=r&&r.cache?r.cache:ie,s=r&&r.serializer?r.serializer:ce,n=r&&r.strategy?r.strategy:ne;return n(e,{cache:t,serializer:s})}function re(e){return e==null||typeof e=="number"||typeof e=="boolean"}function E(e,r,t,s){var n=re(s)?s:t(s),o=r.get(n);return typeof o=="undefined"&&(o=e.call(this,s),r.set(n,o)),o}function z(e,r,t){var s=Array.prototype.slice.call(arguments,3),n=t(s),o=r.get(n);return typeof o=="undefined"&&(o=e.apply(this,s),r.set(n,o)),o}function T(e,r,t,s,n){return t.bind(r,e,s,n)}function ne(e,r){var t=e.length===1?E:z;return T(e,this,t,r.cache.create(),r.serializer)}function oe(e,r){var t=z;return T(e,this,t,r.cache.create(),r.serializer)}function ae(e,r){var t=E;return T(e,this,t,r.cache.create(),r.serializer)}function ce(){return JSON.stringify(arguments)}function x(){this.cache=Object.create(null)}x.prototype.has=function(e){return e in this.cache},x.prototype.get=function(e){return this.cache[e]},x.prototype.set=function(e,r){this.cache[e]=r};var ie={create:function(){return new x}};I.exports=se,I.exports.strategies={variadic:oe,monadic:ae};var ue=I.exports;const R=e=>!!e&&!te(e),F=e=>R(e)?e:[],C=t=>{var s=t,{data:e}=s,r=w(s,["data"]);const n=F(e),o=g({parent:"",level:0},r),u=d=>d.reduce((a,i,y)=>{const h=g({node:i,index:y,nodeName:i.key},o),m=U(h);return[...a,...m]},[]),f=d=>Object.entries(d).sort((a,i)=>a[1].index-i[1].index).reduce((a,[i,y])=>{const h=g({node:y,nodeName:i},o),m=U(h);return[...a,...m]},[]);return Array.isArray(n)?u(n):f(n)},le=({label:e,searchTerm:r})=>{const t=s=>s.trim().toLowerCase();return t(e).includes(t(r))},fe=({label:e})=>e,U=o=>{var u=o,{node:e,nodeName:r,matchSearch:t=le,locale:s=fe}=u,n=w(u,["node","nodeName","matchSearch","locale"]);const{parent:f,level:d,openNodes:a,searchTerm:i}=n,G=e,{nodes:y,label:h="unknown"}=G,m=w(G,["nodes","label"]),v=[f,r].filter(Ae=>Ae).join("/"),O=R(y),K=O&&(a.includes(v)||!!i),j=s(g({label:h},m)),xe=!i||t(g({label:j,searchTerm:i},m)),_e=k(g(g({},n),m),{label:j,hasNodes:O,isOpen:K,key:v}),De=F(y),J=K?C(k(g({data:De,locale:s,matchSearch:t},n),{parent:v,level:d+1})):[];return xe?[_e,...J]:J},pe=ue(C),he=C;var V={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var r={}.hasOwnProperty;function t(){for(var s=[],n=0;n<arguments.length;n++){var o=arguments[n];if(!!o){var u=typeof o;if(u==="string"||u==="number")s.push(o);else if(Array.isArray(o)){if(o.length){var f=t.apply(null,o);f&&s.push(f)}}else if(u==="object")if(o.toString===Object.prototype.toString)for(var d in o)r.call(o,d)&&o[d]&&s.push(d);else s.push(o.toString())}}return s.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(V);var de=V.exports,_={exports:{}},D={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ye=b.default,me=Symbol.for("react.element"),ge=Symbol.for("react.fragment"),be=Object.prototype.hasOwnProperty,ve=ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ne={key:!0,ref:!0,__self:!0,__source:!0};function $(e,r,t){var s,n={},o=null,u=null;t!==void 0&&(o=""+t),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(u=r.ref);for(s in r)be.call(r,s)&&!Ne.hasOwnProperty(s)&&(n[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)n[s]===void 0&&(n[s]=r[s]);return{$$typeof:me,type:e,key:o,ref:u,props:n,_owner:ve.current}}D.Fragment=ge,D.jsx=$,D.jsxs=$,_.exports=D;const N=_.exports.jsx,M=_.exports.jsxs,Oe=_.exports.Fragment,Se=.75,ke=2,Ke=1.75,we=({on:e,openedIcon:r,closedIcon:t})=>N("div",{role:"img","aria-label":"Toggle",className:"rstm-toggle-icon-symbol",children:e?r:t}),W=({hasNodes:e=!1,isOpen:r=!1,level:t=0,onClick:s,toggleNode:n,active:o,focused:u,openedIcon:f="-",closedIcon:d="+",label:a="unknown",style:i={},isRtl:y=!1,isOneLevel:h=!1})=>{const m=`${Se+ke*(e?0:1)+t*Ke}rem`,v=g({paddingRight:m},i),O=g({paddingLeft:m},i);return M("li",{className:de("rstm-tree-item",`rstm-tree-item-level${t}`,{"rstm-tree-item--active":o},{"rstm-tree-item--focused":u},{"rstm-tree-item-rtl":y}),style:y&&!h?v:O,role:"button","aria-pressed":o,onClick:s,children:[e&&N("div",{className:"rstm-toggle-icon",onClick:K=>{e&&n&&n(),K.stopPropagation()},children:N(we,{on:r,openedIcon:f,closedIcon:d})}),a]})},P=({search:e,items:r,isRtl:t,isOneLevel:s,searchPlaceholder:n})=>M(Oe,{children:[e&&N("input",{className:"rstm-search","aria-label":n||"Type and search",type:"search",placeholder:n||"Type and search",onChange:u=>{const{value:f}=u.target;e&&e(f)}}),N("ul",{className:"rstm-tree-item-group",children:r.map(d=>{var a=d,{key:u}=a,f=w(a,["key"]);return N(W,g({isRtl:t,isOneLevel:s},f),u)})})]}),q=({children:e,up:r,down:t,left:s,right:n,enter:o})=>N("div",{tabIndex:0,onKeyDown:u=>{switch(u.key){case"ArrowUp":{r();break}case"ArrowDown":{t();break}case"ArrowLeft":{s();break}case"ArrowRight":{n();break}case"Enter":{o();break}}},children:e}),je=e=>console.log(e);class B extends b.default.Component{constructor(){super(...arguments);S(this,"state",{openNodes:this.props.initialOpenNodes||[],searchTerm:"",activeKey:this.props.initialActiveKey||"",focusKey:this.props.initialFocusKey||""});S(this,"resetOpenNodes",(t,s,n)=>{const{initialOpenNodes:o}=this.props,u=Array.isArray(t)&&t||o||[];this.setState({openNodes:u,searchTerm:"",activeKey:s||"",focusKey:n||s||""})});S(this,"search",t=>{const{debounceTime:s}=this.props;H(o=>this.setState({searchTerm:o}),s)(t)});S(this,"toggleNode",t=>{if(!this.props.openNodes){const{openNodes:s}=this.state,n=s.includes(t)?s.filter(o=>o!==t):[...s,t];this.setState({openNodes:n})}});S(this,"generateItems",()=>{const{data:t,onClickItem:s,locale:n,matchSearch:o}=this.props,{searchTerm:u}=this.state,f=this.props.openNodes||this.state.openNodes,d=this.props.activeKey||this.state.activeKey,a=this.props.focusKey||this.state.focusKey,i=this.props.cacheSearch?pe:he;return(t?i({data:t,openNodes:f,searchTerm:u,locale:n,matchSearch:o}):[]).map(h=>{const m=h.key===a,v=h.key===d,O=()=>{const j=this.props.activeKey||h.key;this.setState({activeKey:j,focusKey:j}),s&&s(h)},K=h.hasNodes?()=>this.toggleNode(h.key):void 0;return k(g({},h),{focused:m,active:v,onClick:O,toggleNode:K})})});S(this,"getKeyDownProps",t=>{const{onClickItem:s}=this.props,{focusKey:n,activeKey:o,searchTerm:u}=this.state,f=t.findIndex(a=>a.key===(n||o)),d=a=>{const i=a.key.split("/");return i.length>1?i.slice(0,i.length-1).join("/"):a.key};return{up:()=>{this.setState(({focusKey:a})=>({focusKey:f>0?t[f-1].key:a}))},down:()=>{this.setState(({focusKey:a})=>({focusKey:f<t.length-1?t[f+1].key:a}))},left:()=>{const a=t[f];a&&this.setState(h=>{var m=h,{openNodes:i}=m,y=w(m,["openNodes"]);const v=i.filter(O=>O!==a.key);return a.isOpen?k(g({},y),{openNodes:v,focusKey:a.key}):k(g({},y),{focusKey:d(a)})})},right:()=>{const{hasNodes:a,key:i}=t[f];a&&this.setState(({openNodes:y})=>({openNodes:[...y,i]}))},enter:()=>{this.setState(({focusKey:a})=>({activeKey:a})),s&&s(t[f])}}})}componentDidUpdate(t){const{data:s,initialOpenNodes:n,resetOpenNodesOnDataUpdate:o}=this.props;t.data!==s&&o&&n&&this.setState({openNodes:n})}render(){const{children:t,hasSearch:s,disableKeyboard:n,isRtl:o,isOneLevel:u,searchPlaceholder:f}=this.props,{searchTerm:d}=this.state,a=this.search,i=this.generateItems(),y=this.resetOpenNodes,h=t||P,m=s?{search:a,resetOpenNodes:y,items:i,searchTerm:d,isRtl:o,isOneLevel:u,searchPlaceholder:f}:{items:i,resetOpenNodes:y};return n?h(m):N(q,k(g({},this.getKeyDownProps(i)),{children:h(m)}))}}S(B,"defaultProps",{data:{},onClickItem:je,debounceTime:125,children:P,hasSearch:!0,cacheSearch:!0,resetOpenNodesOnDataUpdate:!1,disableKeyboard:!1}),c.ItemComponent=W,c.KeyDown=q,c.default=B,c.defaultChildren=P,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
